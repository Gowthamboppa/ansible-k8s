---
 - name: CREATING THE K8S WORKSTATION
   hosts: all
   become: yes
   gather_facts: false
  

   tasks:
   - name: DOWNLOADING THE AWS CLI ZIP FILE 
     get_url:
      url: https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip
      dest: /home/centos/

   - name: INSTALLING UNZIP
     yum:
        name: unzip
        state: latest
   - name: UNZIPPING THE AWS CLI 
     unarchive:
        src: /home/centos/awscli-exe-linux-x86_64.zip
        dest: /home/centos/
        remote_src: yes
   - name: RUN THE COMMAND
     command: ./aws/install --update
     
     
   - name: DOWNLOADING THE KOPS BINARY
     get_url:
        url: https://github.com/kubernetes/kops/releases/download/v1.20.0/kops-linux-amd64
        dest: /usr/local/bin/kops
     
   - name: MAKE KOPS BINARY EXECUTABLE
     command: chmod +x /usr/local/bin/kops

   - name: DOWNLOADING KUBECTL BINARY
     get_url:
        url: https://dl.k8s.io/release/v1.26.0/bin/linux/amd64/kubectl
        dest: /usr/local/bin/kubectl

   - name: MAKE KUBECTL BINARY EXECUTABLE
     command: chmod +x /usr/local/bin/kubectl

   - name: Update the package cache
     yum:
        name: epel-release
        state: present

   - name: installing pip for installing boto3 and boyocore
     yum:
      name: python3-pip
      state: present
      
   - name: Install boto3 package
     pip:
        name: boto3
        version: "1.18.0"
        state: present

   - name: Install botocore package
     pip:
        name: botocore
        version: "1.21.0"
        state: present
  
   - name: Create Kops clusterssss
     become: yes
     command: /usr/local/bin/ kops create cluster --yes --state=s3://gowthamboppa1 --zones=us-east-1a,us-east-1b --node-count=2 --name=boppa.k8s.local
     register: result
   - name: Show output
     debug:
        var: result



     

    


 
          
        
  
        
...




